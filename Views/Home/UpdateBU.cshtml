@{
    ViewData["Title"] = "Update BU";
}

<div class="container-fluid">
    <div class="form-group row">
        <label>ProductNum,BusinessUnit</label>
        <textarea class="form-control" rows="20"></textarea>
    </div>
    <div class="form-group row">
        <div class="col-md">
            <div class="d-flex justify-content-end">
                <button id="UpdateBU" class="btn btn-primary">Update</button>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>

        $().ready(function () {
            toastr.options = {
                "positionClass": "toast-bottom-right",
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }
        });

        $("#UpdateBU").click(function () {
            var lstBU = [];
            var data = $("textarea").val();
            $.each(data.split("\n"), function (i, name) {
                if (name != "") {
                    lstBU.push(name);
                }
            });

    /*        alert(lstBU);*/

            var url = "@Url.Action("UpdateBU", "Home")";
            $.post(url, { lstBU: lstBU }).done(function (res) {
                toastr.success("Updated Completed!!!")
            });
        });
    </script>
}